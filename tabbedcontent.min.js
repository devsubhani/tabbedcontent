/**
 * Tabs plugin for jQuery created by Òscar Casajuana < elboletaire at underave dot net >
 *
 * @copyright Copyright 2013-2016 Òscar Casajuana
 * @license   MIT
 * @author    Òscar Casajuana Alonso <elboletaire at underave dot net>
*/
!function(n,t,e,r){"use strict";var i=function(i,o){function s(n){return Boolean(I.filter(n).length)}function l(){return 0===q}function a(n){return n%1===0}function c(){return q===I.length-1}function h(t){return n(this).attr("href").match(new RegExp(t+"$"))}function u(t){return t instanceof n?{tab:t,link:o.links.eq(t.index())}:a(t)?{tab:I.eq(t),link:o.links.eq(t)}:I.filter(t).length?{tab:I.filter(t),link:o.links.filter(function(){return h.apply(this,[t])})}:{tab:I.filter("#"+t),link:o.links.filter(function(){return h.apply(this,["#"+t])})}}function f(){return o.links.parent().filter("."+o.currentClass).index()}function p(n){return++q,n===r&&(n=o.loop),q<I.length?k(q,!0):n&&q>=I.length?k(0,!0):!1}function d(n){return--q,n===r&&(n=o.loop),q>=0?k(q,!0):n&&0>q?k(I.length-1,!0):!1}function g(n){o.history&&o.historyOnInit&&C&&m!==r&&"pushState"in m&&(C=!1,e.setTimeout(function(){m.replaceState(null,"",n)},100)),q=f(),o.onSwitch&&"function"==typeof o.onSwitch&&o.onSwitch(n,b()),i.trigger("onSwitch",[n,b()])}function k(n,t){return n.toString().match(/^#/)||(n="#"+u(n).tab.attr("id")),s(n)?(o.links.parent().removeClass(o.currentClass),o.links.filter(function(){return h.apply(this,[n])}).parent().addClass(o.currentClass),I.hide(),o.history&&t&&(m!==r&&"pushState"in m?m.pushState(null,"",n):e.location.hash=n),I.filter(n).show(o.speed,function(){o.speed&&g(n)}),o.speed||g(n),!0):!1}function w(n){return k(n,!0)}function S(n){k(x.hash)}function v(){if(s(x.hash)?k(x.hash):o.links.parent().filter("."+o.currentClass).length?k(o.links.parent().filter("."+o.currentClass).index()):o.errorSelector&&I.find(o.errorSelector).length?I.each(function(){return n(this).find(o.errorSelector).length?(k("#"+n(this).attr("id")),!1):void 0}):k("#"+I.filter(":first-child").attr("id")),o.errorSelector&&I.find(o.errorSelector).each(function(){var t=u(n(this).parent());t.link.parent().addClass(o.tabErrorClass)}),"onhashchange"in e)n(e).bind("hashchange",S);else{var t=x.href;e.setInterval(function(){t!==x.href&&(S.call(e.event),t=x.href)},100)}n(o.links).on("click",function(t){k(n(this).attr("href").replace(/^[^#]+/,""),o.history),t.preventDefault()}),o.onInit&&"function"==typeof o.onInit&&o.onInit(b()),i.trigger("onInit",[b()])}function b(){return{"switch":w,switchTab:w,getCurrent:f,getTab:u,next:p,prev:d,isFirst:l,isLast:c}}var y={links:i.prev().find("a").length?i.prev().find("a"):".tabs a",errorSelector:".error-message",speed:!1,onSwitch:!1,onInit:!1,currentClass:"active",tabErrorClass:"has-errors",history:!0,historyOnInit:!0,loop:!1},C=!0,I=i.children(),m=e.history,x=t.location,q=null;return o=n.extend(y,o),o.links instanceof n||(o.links=n(o.links)),v(),b()};n.fn.tabbedContent=function(t){return this.each(function(){var e=new i(n(this),t);n(this).data("api",e)})}}(window.jQuery||window.Zepto||window.$,document,window);